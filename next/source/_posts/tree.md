---
title: 树
translate_title: tree
date: 2019-09-06 14:32:11
categories:
 - 数据结构
tags:
 - BST
 - AVL
 - B/B+
---

### 二叉搜索树
又称二叉查找树或BST树
1. 所有非叶子结点至多拥有两个儿子
1. 所有结点存储一个关键字
1. 非叶子结点的左指针指向小于其关键字的子树，右指针指向大于其关键字的子树
<img src="https://public-1251890033.cos.ap-guangzhou.myqcloud.com/blog/tree/bst.png" width="50%" height="50%">

<!-- more -->

### 平衡二叉树
平衡二叉树是平衡二叉查找树的简称，也称AVL树
1. 首先是二叉查找树
1. 左子树和右子树的高度差不超过1

### B/B+树
B/B+树是为了磁盘或其它存储设备而设计的一种平衡多路查找树。
B+树相对B树的特点：
1. B+树的非叶子节点只存关键字，不保存数据，可以减少树的高度，减少IO访问次数
1. B+树的叶子节点会指向下一个叶子节点，形成一个链表，适合做范围查找
1. B+树的叶子节点包含了所有的关键字，叶子节点是稠密索引，非叶子节点是稀疏索引

局部性原理和磁盘预读机制
局部原理是说当一个数据被用到时，其相邻的数据也会马上被使用。
由于磁盘读取数据的速度非常慢（机械转动寻道寻址），所以磁盘在读取数据时，都会向后读取一定长度的数据放入到内存。通常是整数页（一页大小为4k）。所以B/B+树每个节点的大小通常都设置为一页，这样读取一个节点就只需要一次IO。
结论：B/B+适合用来做外存的索引，B+更适合做关系型数据库（mysql）的索引，因为有范围查找，mongodb是用B树

